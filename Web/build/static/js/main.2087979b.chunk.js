(this["webpackJsonpuse-state-example"]=this["webpackJsonpuse-state-example"]||[]).push([[0],{18:function(e,s,c){},19:function(e,s,c){},20:function(e,s,c){},21:function(e,s,c){},37:function(e,s,c){},64:function(e,s,c){"use strict";c.r(s);var t=c(0),a=c(1),l=c.n(a),n=c(30),i=c.n(n),r=(c(37),c(10)),j=c(2),d=c(9),o=c(12),u=c.p+"static/media/cm-main-img.b9a05542.png",b=(c(18),c(19),c(20),c(21),window.location.href.split(":")),m=b="https"===b[0]?"https://envycle.herokuapp.com":"http://localhost:5000",h=c(7),O=c.n(h);O.a.defaults.withCredentials=!0;var x=l.a.createContext(),p=l.a.createContext(),g=function(){return Object(a.useContext)(x)},v=function(){return Object(a.useContext)(p)};function f(e){var s=e.children,c=Object(a.useState)({user:null,loginStatus:!1,role:null}),l=Object(o.a)(c,2),n=l[0],i=l[1];return Object(a.useEffect)((function(){console.log("url is=> ",m),O()({method:"get",url:m+"/profile"}).then((function(e){console.log("profile response",e),i((function(s){return Object(d.a)(Object(d.a)({},s),{},{loginStatus:!0,user:e.data.profile,role:e.data.profile.role})}))}),(function(e){i((function(e){return Object(d.a)(Object(d.a)({},e),{},{loginStatus:!1,user:null,role:null})}))}))}),[]),Object(t.jsx)(x.Provider,{value:n,children:Object(t.jsx)(p.Provider,{value:i,children:s})})}O.a.defaults.withCredentials=!0;var N=function(){var e=v(),s=Object(a.useState)(),c=Object(o.a)(s,2),l=c[0],n=c[1],i=Object(a.useRef)(),j=Object(a.useRef)();return Object(t.jsx)("div",{className:"wrapper",children:Object(t.jsxs)("div",{className:"wrapper",children:[Object(t.jsx)("div",{className:"sign-in-page",children:Object(t.jsx)("div",{className:"signin-popup",children:Object(t.jsx)("div",{className:"signin-pop",children:Object(t.jsxs)("div",{className:"row",children:[Object(t.jsx)("div",{className:"col-lg-6",children:Object(t.jsxs)("div",{className:"cmp-info",children:[Object(t.jsxs)("div",{className:"cm-logo",children:[Object(t.jsx)("img",{src:"",alt:""}),Object(t.jsx)("p",{children:" Envycle, Recycle your materials through our application"})]}),Object(t.jsx)("img",{src:u,alt:""})]})}),Object(t.jsx)("div",{className:"col-lg-6",children:Object(t.jsxs)("div",{className:"login-sec",children:[Object(t.jsxs)("ul",{className:"sign-control",children:[Object(t.jsx)("li",{"data-tab":"tab-1",className:"current",children:Object(t.jsx)(r.b,{to:"/",children:"Sign in "})}),Object(t.jsxs)("li",{children:[" ",Object(t.jsx)(r.b,{to:"/signup",children:"Signup "})," "]})]}),Object(t.jsxs)("div",{className:"sign_in_sec current",id:"tab-1",children:[Object(t.jsx)("h3",{children:"Sign in"}),Object(t.jsx)("div",{className:"signup-tab",children:Object(t.jsx)("ul",{style:{color:"red"},children:null===l?"":l})}),Object(t.jsx)("form",{onSubmit:function(s){return function(s){s.preventDefault(),O()({method:"post",url:m+"/auth/login",data:{userEmail:i.current.value,userPassword:j.current.value}}).then((function(s){e((function(e){return Object(d.a)(Object(d.a)({},e),{},{loginStatus:!0,user:{userEmail:s.data.user.userEmail,userName:s.data.user.userName,points:s.data.user.points},role:s.data.user.role})}))}),(function(e){alert(e.response.data.message),n("User not found")}))}(s)},children:Object(t.jsxs)("div",{className:"row",children:[Object(t.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(t.jsxs)("div",{className:"sn-field",children:[Object(t.jsx)("input",{autoComplete:"on",ref:i,type:"email",name:"email",placeholder:"Enter Email"}),Object(t.jsx)("i",{className:"la la-user"})]})}),Object(t.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(t.jsxs)("div",{className:"sn-field",children:[Object(t.jsx)("input",{ref:j,type:"password",name:"password",placeholder:"Enter Password"}),Object(t.jsx)("i",{className:"la la-lock"})]})}),Object(t.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(t.jsx)("div",{className:"checky-sec",children:Object(t.jsx)("div",{className:"fgt-sec",children:Object(t.jsx)(r.b,{to:"/forget-password",children:Object(t.jsx)("small",{children:"Forgot password?"})})})})}),Object(t.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(t.jsx)("button",{type:"submit",value:"submit",children:"Sign in"})})]})}),Object(t.jsxs)("div",{className:"login-resources",children:[Object(t.jsx)("h4",{children:"Login Via Social Account"}),Object(t.jsx)("ul",{children:Object(t.jsx)("li",{children:Object(t.jsxs)("a",{href:"http://localhost:5000/auth/google",title:!0,className:"fb",children:[Object(t.jsx)("i",{className:"fa fa-google"}),"Login Via Google"]})})})]})]})]})})]})})})}),Object(t.jsx)("div",{className:"footy-sec",children:Object(t.jsx)("div",{className:"container"})})]})})};function w(){var e=l.a.useState(),s=Object(o.a)(e,2),c=s[0],n=s[1],i=Object(a.useRef)(),j=Object(a.useRef)();return Object(t.jsx)("div",{className:"wrapper",children:Object(t.jsxs)("div",{className:"wrapper",children:[Object(t.jsx)("div",{className:"sign-in-page",children:Object(t.jsx)("div",{className:"signin-popup",children:Object(t.jsx)("div",{className:"signin-pop",children:Object(t.jsxs)("div",{className:"row",children:[Object(t.jsx)("div",{className:"col-lg-6",children:Object(t.jsxs)("div",{className:"cmp-info",children:[Object(t.jsxs)("div",{className:"cm-logo",children:[Object(t.jsx)("img",{src:"",alt:""}),Object(t.jsx)("p",{children:" Signup"})]}),Object(t.jsx)("img",{src:u,alt:""})]})}),Object(t.jsx)("div",{className:"col-lg-6",children:Object(t.jsxs)("div",{className:"login-sec",children:[Object(t.jsxs)("ul",{className:"sign-control",children:[Object(t.jsxs)("li",{children:[" ",Object(t.jsx)(r.b,{to:"/",children:"Sigin "})]}),Object(t.jsx)("li",{"data-tab":"tab-2",className:"current",children:Object(t.jsx)(r.b,{to:"/signup",children:"Signup "})})]}),Object(t.jsxs)("div",{className:"sign_in_sec current",id:"tab-2",children:[Object(t.jsx)("h3",{children:"Sign Up"}),Object(t.jsxs)("div",{className:"signup-tab",children:[Object(t.jsx)("i",{className:"fa fa-long-arrow-left"}),Object(t.jsx)("ul",{children:null===c?"":c})]}),Object(t.jsx)("div",{className:"dff-tab current",id:"tab-3",children:Object(t.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault();var s,c=document.getElementById("firstName").value,t=document.getElementById("lastName").value,a=(c=c.charAt(0)+c.slice(1))+" "+(t=t.charAt(0)+t.slice(1));s=document.getElementById("male").checked?"male":"female",O()({method:"post",url:m+"/auth/signup",data:{userName:a,userEmail:i.current.value.toLowerCase(),userPassword:j.current.value,gender:s}}).then((function(e){console.log("response",e),n("Signed up successfully")}),(function(e){n(e.response.data.message)}))}(e)},children:Object(t.jsxs)("div",{className:"row",children:[Object(t.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(t.jsxs)("div",{className:"sn-field",children:[Object(t.jsx)("input",{required:!0,id:"firstName",autoComplete:"on",type:"text",name:"name",placeholder:"First Name"}),Object(t.jsx)("i",{className:"la la-user"})]})}),Object(t.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(t.jsxs)("div",{className:"sn-field",children:[Object(t.jsx)("input",{required:!0,id:"lastName",autoComplete:"on",type:"text",name:"name",placeholder:"Last Name"}),Object(t.jsx)("i",{className:"la la-user"})]})}),Object(t.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(t.jsxs)("div",{className:"sn-field",children:[Object(t.jsx)("input",{required:!0,autoComplete:"on",ref:i,type:"email",placeholder:"Enter email"}),Object(t.jsx)("i",{className:"la la-lock"})]})}),Object(t.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(t.jsxs)("div",{className:"sn-field",children:[Object(t.jsx)("input",{required:!0,ref:j,autoComplete:"on",type:"password",name:"password",placeholder:"Password"}),Object(t.jsx)("i",{className:"la la-lock"})]})}),Object(t.jsxs)("div",{className:"col-lg-12",children:[Object(t.jsx)("label",{style:{marginLeft:10},children:" Male: "}),Object(t.jsx)("input",{type:"radio",name:"gender",value:"Male",className:"radioBtn",style:{marginLeft:5},id:"male",required:!0}),Object(t.jsx)("label",{style:{marginLeft:10},children:"Female: "}),Object(t.jsx)("input",{type:"radio",name:"gender",value:"Female",className:"radioBtn",style:{marginLeft:5},required:!0})]}),Object(t.jsx)("div",{className:"col-lg-12 no-pdd",children:Object(t.jsx)("button",{type:"submit",value:"submit",children:"Get Started"})})]})})})]})]})})]})})})}),Object(t.jsx)("div",{className:"footy-sec",children:Object(t.jsx)("div",{className:"container"})})]})})}function y(){g();var e=v();return Object(t.jsx)("span",{className:"navbar-text",onClick:function(){O()({method:"post",url:"".concat(m,"/logout")}).then((function(s){e((function(e){return Object(d.a)(Object(d.a)({},e),{},{loginStatus:!1,user:null,role:null})}))}),(function(e){console.log("error=>",e)}))},children:Object(t.jsxs)("a",{href:"#",className:"nav-link logout",title:"",children:[Object(t.jsx)("span",{children:Object(t.jsx)("i",{className:"fa fa-sign-out","aria-hidden":"true"})}),"Logout"]})})}function S(){var e=g();return Object(t.jsx)("div",{children:Object(t.jsx)("div",{className:"wrapper",children:Object(t.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(t.jsxs)("div",{className:"container",children:[Object(t.jsx)("a",{className:"navbar-brand",href:"#",children:e.user.userName}),Object(t.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(t.jsx)("span",{className:"navbar-toggler-icon"})}),Object(t.jsx)(y,{})]})})})})}function C(){var e=g();return Object(t.jsxs)(r.a,{children:[!1===e.loginStatus?Object(t.jsx)(t.Fragment,{children:Object(t.jsxs)(j.c,{children:[Object(t.jsx)(j.a,{exact:!0,path:"/",children:Object(t.jsx)(N,{})}),Object(t.jsx)(j.a,{path:"/signup",children:Object(t.jsx)(w,{})})]})}):null,"user"===e.role&&!0===e.loginStatus?Object(t.jsx)(t.Fragment,{children:Object(t.jsxs)(j.c,{children:[Object(t.jsx)(j.a,{exact:!0,path:"/",children:Object(t.jsx)(S,{})}),Object(t.jsx)(j.a,{path:"*",children:Object(t.jsx)(S,{})})]})}):null]})}function E(){return Object(t.jsx)(C,{})}O.a.defaults.withCredentials=!0,i.a.render(Object(t.jsx)(f,{children:Object(t.jsx)(E,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.2087979b.chunk.js.map